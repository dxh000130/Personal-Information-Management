#
# ### !!! WARNING - READ ME !!! ###
#
# DO NOT edit this file. This file has been generated automatically by the loader generator.
# If you were asked to use a pre-made image and asked by someone to edit this file DO NOT do it. The only
# supported method of obtaining the loader image is generating it using the loader generator provided.
#

terminal_output console
if serial --unit=0 --speed=115200; then
    terminal_input --append serial_com0
    terminal_output --append serial_com0
fi

set default="0"
set timeout="5"
set timeout_style="menu"

if [ -s $prefix/grubenv ]; then
    load_env --file $prefix/grubenv --skip-sig
    set has_env="1"
    if [ -n "${saved_entry}" ]; then
        set default="${saved_entry}"
    fi
else
    set has_env="0"
    echo "WARN: failed to load env. Default choice will NOT be saved!"
fi


function savedefault {
    saved_entry="${chosen}"
    save_env --file $prefix/grubenv saved_entry
}


insmod usb_keyboard
insmod part_msdos
insmod ext2
insmod fat
insmod linux
insmod gzio

set gfxmode=auto
insmod vbe
insmod vga

# UEFI
insmod efi_gop
insmod efi_uga

insmod font
if loadfont ${prefix}/unicode.pf2
then
    insmod gfxterm
    set gfxmode=auto
    set gfxpayload=keep
    terminal_output gfxterm
fi

menuentry 'Yet Another Jun`s Mod x RedPill DS918+ v7.0.1-42218 (USB, Verbose)' {
	savedefault
	set root=(hd0,2)
	echo Loading Linux...
	linux /bzImage HddHotplug=0 withefi console=ttyS0,115200n8 DiskIdxMap=00 netif_num=2 syno_hdd_detect=0 syno_port_thaw=1 SasIdxMap=0 vender_format_version=2 mac2=00113282C1B8 earlyprintk mac1=00113282C1B7 syno_hdd_powerup_seq=1 pid=0x5583 log_buf_len=32M syno_hw_version=DS918+ vid=0x0781 earlycon=uart8250,io,0x3f8,115200n8 sn=17A1PDN125805 elevator=elevator root=/dev/md0 loglevel=15 SataPortMap=2 
	echo Starting kernel with USB boot
}

menuentry 'Yet Another Jun`s Mod x RedPill DS918+ v7.0.1-42218 (SATA, Verbose)' {
	savedefault
	set root=(hd0,2)
	echo Loading Linux...
	linux /bzImage HddHotplug=0 withefi console=ttyS0,115200n8 synoboot_satadom=2 DiskIdxMap=00 netif_num=2 syno_hdd_detect=0 syno_port_thaw=1 SasIdxMap=0 vender_format_version=2 mac2=00113282C1B8 earlyprintk mac1=00113282C1B7 syno_hdd_powerup_seq=1 pid=0x5583 log_buf_len=32M syno_hw_version=DS918+ vid=0x0781 earlycon=uart8250,io,0x3f8,115200n8 sn=17A1PDN125805 elevator=elevator root=/dev/md0 loglevel=15 SataPortMap=2 
	echo Starting kernel with SATA boot
	echo WARNING: SATA boot support on this platform is experimental!
}


